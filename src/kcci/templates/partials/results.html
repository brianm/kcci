{% if not query %}
<p style="color: var(--text-dim);">Type to search your book collection.</p>
{% elif books %}
<p style="color: var(--text-dim); margin-bottom: 1rem;">{{ books|length }} results for "{{ query }}"</p>
{% for book in books %}
<div class="book-card" hx-get="/book/{{ book.asin }}/detail{% if book.distance is defined %}?score={{ ((2 - book.distance) * 50)|round|int }}{% endif %}" hx-target="this" hx-swap="outerHTML">
    <div class="book-title">
        {% if book.distance is defined and mode == 'semantic' %}
        <span class="book-score">{{ "%.0f%%"|format((2 - book.distance) * 50) }}</span>
        {% endif %}
        {{ book.title }}
    </div>
    <div class="book-author">{{ book.authors|authors }}</div>
</div>
{% endfor %}
{% else %}
<p style="color: var(--text-dim);">No results found for "{{ query }}"</p>
{% endif %}
