<div class="book-card expanded">
    <div class="book-header" hx-get="/book/{{ book.asin }}/collapse{% if score %}?score={{ score }}{% endif %}" hx-target="closest .book-card" hx-swap="outerHTML">
        <div class="book-title">
            {% if score %}<span class="book-score">{{ score }}%</span>{% endif %}
            {{ book.title }}
        </div>
        <div class="book-author">{{ book.authors|authors }}</div>
    </div>
    {% if book.description %}
    <div class="book-description">{{ book.description|markdown }}</div>
    {% endif %}
    {% if subjects %}
    <div class="book-subjects">
        {% for subject in subjects[:10] %}
        <span class="tag">{{ subject }}</span>
        {% endfor %}
    </div>
    {% endif %}
    <div class="book-meta">
        {% if book.publish_year %}Published {{ book.publish_year }} · {% endif %}
        ASIN: {{ book.asin }}
        {% if book.isbn %} · ISBN: {{ book.isbn }}{% endif %}
        {% if book.openlibrary_key %} · <a href="https://openlibrary.org{{ book.openlibrary_key }}" target="_blank">OpenLibrary</a>{% endif %}
    </div>
</div>
