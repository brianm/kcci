{% extends "base.html" %}

{% block title %}{{ book.title }} - KCCI{% endblock %}

{% block content %}
<div class="book-detail">
    <p style="margin-bottom: 1rem;"><a href="/" style="color: var(--text-dim);">&larr; Back to search</a></p>

    <h1>{{ book.title }}</h1>
    <p class="meta">by {{ book.authors|authors }}</p>

    {% if book.publish_year %}
    <p class="meta">Published: {{ book.publish_year }}</p>
    {% endif %}

    {% if book.description %}
    <div class="description">{{ book.description|markdown }}</div>
    {% endif %}

    {% if subjects %}
    <div class="subjects">
        {% for subject in subjects[:15] %}
        <span class="tag">{{ subject }}</span>
        {% endfor %}
    </div>
    {% endif %}

    <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--border); color: var(--text-dim); font-size: 0.85rem;">
        <p>ASIN: {{ book.asin }}</p>
        {% if book.isbn %}
        <p>ISBN: {{ book.isbn }}</p>
        {% endif %}
        {% if book.openlibrary_key %}
        <p>OpenLibrary: <a href="https://openlibrary.org{{ book.openlibrary_key }}" target="_blank" style="color: var(--accent);">{{ book.openlibrary_key }}</a></p>
        {% endif %}
    </div>
</div>
{% endblock %}
